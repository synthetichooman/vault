<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vault - hooman</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="assets/favicon.png" type="image/png">
</head>
<body>
    <header class="vault-header">
        <div class="stats-bar">
            <p>3 articles, 2025.08.31 15:36:59, 7933KB</p>
        </div>
    </header>
    <main class="vault">
        <div class="header-spacer"></div>
        <nav class="main-nav">
            <a href="index.html" class="active">vault</a>
            <a href="https://athoce.kr" target="_blank" rel="noopener noreferrer">shop</a>
        </nav>
        
        <div class="filter-controls">
            <input type="checkbox" id="available-only-filter" name="available-only-filter">
            <label for="available-only-filter">show only available</label>
        </div>
    
        <div class="vault-grid">
            
            <a href="menichetti-reberto-menichetti-joghurt.html" class="vault-item-link" data-status="not for sale" data-category="bottom">
                <div class="vault-item">
                    <img src="./archive/menichetti/reberto menichetti/joghurt/Artboard 1.webp" alt="joghurt" loading="lazy">
                </div>
            </a>
            <a href="a-poc-dai-fujiwara-a-poc-inside-t-shirt.html" class="vault-item-link" data-status="sold" data-category="top">
                <div class="vault-item">
                    <img src="./archive/a-poc/dai fujiwara/a-poc inside t shirt/Artboard 1.webp" alt="a-poc inside t shirt" loading="lazy">
                </div>
            </a>
            <a href="allegri-martin-margiela-puckered-jacquard-jacket.html" class="vault-item-link" data-status="not for sale" data-category="jacket">
                <div class="vault-item">
                    <img src="./archive/allegri/martin margiela/puckered jacquard jacket/Artboard 1.webp" alt="puckered jacquard jacket" loading="lazy">
                </div>
            </a>
        </div>
    </main>
    <footer class="main-footer">
        <div class="footer-bar">
            <p>suggestions for corrections and image redistribution are welcome</p>
            <p><a href="https://instagram.com/synthetic.hooman" target="_blank" rel="noopener noreferrer">instagram</a></p>
        </div>
    </footer>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const filterCheckbox = document.getElementById('available-only-filter');
            const vaultItems = document.querySelectorAll('.vault-item-link');

            filterCheckbox.addEventListener('change', function() {
                const showOnlyAvailable = this.checked;

                vaultItems.forEach(item => {
                    const status = item.dataset.status;
                    if (showOnlyAvailable && status === 'sold') {
                        item.style.display = 'none';
                    } else {
                        item.style.display = 'block';
                    }
                });
            });
        });
    </script>
    
    <script>
        // Konami Code Easter Egg: Matrix Rain (for Keyboard and Touch)
        const konamiCode = [
            'arrowup', 'arrowup', 'arrowdown', 'arrowdown', 
            'arrowleft', 'arrowright', 'arrowleft', 'arrowright', 
            'b', 'a'
        ];
        let konamiIndex = 0;

        // --- Keyboard Listener ---
        document.addEventListener('keydown', (e) => {
            const requiredKey = konamiCode[konamiIndex];
            if (e.key.toLowerCase() === requiredKey) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    konamiIndex = 0;
                    triggerMatrixRain();
                }
            } else {
                konamiIndex = 0;
            }
        });

        // --- Touch Gesture Listener ---
        const touchKonamiCode = ['up', 'up', 'down', 'down', 'left', 'right', 'left', 'right', 'tap', 'tap'];
        let touchKonamiIndex = 0;
        let touchStartX = 0;
        let touchStartY = 0;
        let lastTap = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
            touchStartY = e.changedTouches[0].screenY;
        }, { passive: true });

        document.addEventListener('touchend', e => {
            const touchEndX = e.changedTouches[0].screenX;
            const touchEndY = e.changedTouches[0].screenY;
            const requiredGesture = touchKonamiCode[touchKonamiIndex];
            
            const deltaX = touchEndX - touchStartX;
            const deltaY = touchEndY - touchStartY;
            const swipeThreshold = 50; // Min pixels for a swipe
            const tapTimeThreshold = 300; // Max ms between taps

            let gesture = null;

            if (Math.abs(deltaX) > Math.abs(deltaY)) {
                // Horizontal swipe
                if (Math.abs(deltaX) > swipeThreshold) {
                    gesture = deltaX > 0 ? 'right' : 'left';
                }
            } else {
                // Vertical swipe
                if (Math.abs(deltaY) > swipeThreshold) {
                    gesture = deltaY > 0 ? 'down' : 'up';
                }
            }

            if (!gesture) {
                // It's a tap
                const now = new Date().getTime();
                if (now - lastTap < tapTimeThreshold) {
                    gesture = 'tap';
                }
                lastTap = now;
            }

            if (gesture === requiredGesture) {
                touchKonamiIndex++;
                if (touchKonamiIndex === touchKonamiCode.length) {
                    touchKonamiIndex = 0;
                    triggerMatrixRain();
                }
            } else {
                touchKonamiIndex = 0;
            }
        });


        function triggerMatrixRain() {
            const canvas = document.createElement('canvas');
            document.body.appendChild(canvas);
            const ctx = canvas.getContext('2d');

            canvas.style.position = 'fixed';
            canvas.style.top = '0';
            canvas.style.left = '0';
            canvas.style.width = '100vw';
            canvas.style.height = '100vh';
            canvas.style.zIndex = '9999';
            canvas.style.pointerEvents = 'none'; // Allow clicks to pass through

            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const katakana = 'アァカサタナハマヤャラワガザダバパイィキシチニヒミリヰギジヂビピウゥクスツヌフムユュルグズヅブプエェケセテネヘメレヱゲゼデベペオォコソトノホモヨョロヲゴゾドボポヴッン';
            const latin = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const nums = '0123456789';
            const alphabet = katakana + latin + nums;

            const fontSize = 16;
            const columns = canvas.width / fontSize;
            const rainDrops = [];

            for (let x = 0; x < columns; x++) {
                rainDrops[x] = 1;
            }

            let animationFrameId;
            const duration = 10000; // 10 seconds
            const startTime = Date.now();

            const draw = () => {
                if (Date.now() - startTime > duration) {
                    cancelAnimationFrame(animationFrameId);
                    if (document.body.contains(canvas)) {
                        document.body.removeChild(canvas);
                    }
                    return;
                }

                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = '#0F0'; // Green text
                ctx.font = fontSize + 'px monospace';

                for (let i = 0; i < rainDrops.length; i++) {
                    const text = alphabet.charAt(Math.floor(Math.random() * alphabet.length));
                    ctx.fillText(text, i * fontSize, rainDrops[i] * fontSize);

                    if (rainDrops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        rainDrops[i] = 0;
                    }
                    rainDrops[i]++;
                }
                animationFrameId = requestAnimationFrame(draw);
            };

            draw();
        }
    </script>
</body>
</html>